import{r,b as j,u as v,j as e,T as u,L as f,B as L,d as w,s as A}from"./index-bFkLWrhO.js";import{u as S,a as k,i as y,b as C}from"./auth-H33ePmJj.js";const E=()=>{const[t,d]=r.useState({email:"",password:""}),[a,n]=r.useState({}),[c,i]=r.useState(!1),[m]=j.useSignInMutation(),[h]=v.useLazyGetCurrentUserQuery(),x=S(t,n),{handleNavigate:p}=k(),o=Object.keys(a).length===0,l=r.useCallback(({target:s})=>{d(b=>({...b,[s.name]:s.value}))},[]),g=async()=>{if(x(),!o)return;i(()=>!0);const s=await m({...t,returnSecureToken:!0});y(s)?(A(s),h(),p()):C(s)&&n(()=>({auth:s.error.data.error.message})),i(()=>!1)};return e.jsxs("div",{children:[e.jsxs("form",{children:[e.jsx(u,{onChange:l,value:t.email,placeholder:"type ur email",name:"email",id:"email",label:"Email:",error:a.email}),e.jsx(u,{onChange:l,value:t.password,placeholder:"type ur pass",name:"password",id:"password",label:"Password:",error:a.password})]}),c&&e.jsx(f,{}),a.auth&&e.jsx("div",{className:"text-red-500",children:a.auth}),e.jsx(L,{title:"submit form "+(o?"(active)":"(disabled)"),text:"Submit",cb:g,disabled:!o}),e.jsxs("div",{children:["Dont have account?",e.jsx(w,{className:"inline-block text-center mx-2 p-1 hover:-rotate-2",to:"/register",children:"Login"})]})]})},P=()=>e.jsx(E,{});export{P as LoginPage};
