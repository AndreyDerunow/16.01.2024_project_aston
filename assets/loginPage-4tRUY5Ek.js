import{r as s,b as j,u as v,j as e,T as l,L as f,B as w,d as L,s as A}from"./index-gHabXGP9.js";import{u as S,a as k,i as y,b as C}from"./auth-VjXf5wP0.js";const E=()=>{const[r,d]=s.useState({email:"",password:""}),[a,n]=s.useState({}),[c,i]=s.useState(!1),[m]=j.useSignInMutation(),[h]=v.useLazyGetCurrentUserQuery(),p=S(r,n),{handleNavigate:x}=k(),o=Object.keys(a).length===0,u=s.useCallback(({target:t})=>{d(b=>({...b,[t.name]:t.value}))},[]),g=async()=>{if(p(),!o)return;i(()=>!0);const t=await m({...r,returnSecureToken:!0});y(t)?(A(t),h(),x()):C(t)&&n(()=>({auth:t.error.data.error.message})),i(()=>!1)};return e.jsxs("div",{children:[e.jsxs("form",{children:[e.jsx(l,{onChange:u,value:s.useMemo(()=>r.email,[r.email]),placeholder:"type ur email",name:"email",id:"email",label:"Email:",error:s.useMemo(()=>a.email,[a.email])}),e.jsx(l,{onChange:u,value:s.useMemo(()=>r.password,[r.password]),placeholder:"type ur pass",name:"password",id:"password",label:"Password:",error:s.useMemo(()=>a.password,[a.password])})]}),c&&e.jsx(f,{}),a.auth&&e.jsx("div",{className:"text-red-500",children:a.auth}),e.jsx(w,{title:"submit form "+(o?"(active)":"(disabled)"),text:"Submit",cb:g,disabled:!o}),e.jsxs("div",{children:["Dont have account?",e.jsx(L,{className:"inline-block text-center mx-2 p-1 hover:-rotate-2",to:"/register",children:"Login"})]})]})},N=()=>e.jsx(E,{});export{N as LoginPage};
