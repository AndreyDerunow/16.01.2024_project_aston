import{r as s,b,j as e,T as u,L as j,B as v,d as f,l as w}from"./index-ICxw7_dy.js";import{u as L,a as S,i as A,b as k}from"./auth-scQWKdBv.js";const E=()=>{const[r,d]=s.useState({email:"",password:""}),[a,n]=s.useState({}),[c,i]=s.useState(!1),[m]=b.useSignInMutation(),h=L(r,n),{handleNavigate:p}=S(),o=Object.keys(a).length===0,l=s.useCallback(({target:t})=>{d(g=>({...g,[t.name]:t.value}))},[]),x=async()=>{if(h(),!o)return;i(()=>!0);const t=await m({...r,returnSecureToken:!0});i(()=>!1),A(t)?(w.setTokens(t),p()):k(t)&&n(()=>({auth:t.error.data.error.message}))};return e.jsxs("div",{children:[e.jsxs("form",{children:[e.jsx(u,{onChange:l,value:s.useMemo(()=>r.email,[r.email]),placeholder:"type ur email",name:"email",id:"email",label:"Email:",error:s.useMemo(()=>a.email,[a.email])}),e.jsx(u,{onChange:l,value:s.useMemo(()=>r.password,[r.password]),placeholder:"type ur pass",name:"password",id:"password",label:"Password:",error:s.useMemo(()=>a.password,[a.password])})]}),c&&e.jsx(j,{}),a.auth&&e.jsx("div",{className:"text-red-500",children:a.auth}),e.jsx(v,{title:"submit form "+(o?"(active)":"(disabled)"),text:"Submit",cb:x,disabled:!o}),e.jsxs("div",{children:["Dont have account?",e.jsx(f,{className:"inline-block text-center mx-2 p-1 hover:-rotate-2",to:"/register",children:"Login"})]})]})},y=()=>e.jsx(E,{});export{y as LoginPage};
